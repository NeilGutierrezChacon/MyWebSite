<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Articles about web developer and new programming technologies">
    <meta name="keywords" content="NGCH43, Neil Gutierrez Chacon">
    <%- include ('partials/head.html')%>
    <title>Blog | NGCH43</title>
  </head>
  <body>
    <%- include ('partials/header.html')%>
    <main class="page-blog container-fluid">
      <!-- Title -->
      <div class="row">
        <div class="col-sm-12 col-xl-12">
          <div class="block-title">
            <img src="/img/icon-spartan.png" alt="Helmet icon of a Spartan">
            <h1 class="text-center">Blog</h1>
          </div>
          
        </div>
      </div>
      <!-- Nav Search -->
      <div class="row">
        <div class="col-sm-12">
          <div class="nav-search">
            <form action="/blog/1" method="GET">
              <div class="input-group my-4">
                <input name="title" type="text" class="form-control" placeholder="Write a project" aria-label="Write a project" aria-describedby="button-search">
                <div class="input-group-append">
                  <button class="btn btn-outline-secondary" type="submit" id="button-search"><i class="fas fa-search fa-lg"></i> Search</button>
                </div>
              </div>
            </form> 
          </div> 
        </div>
      </div>
      <!-- Recommended Post -->
      <div class="row">
        <div class="col-sm-12 px-0">
          <!-- Swiper -->
          <%- include('partials/postsSwiper.html',{posts:posts.docs})%>
        </div>
      </div>

      <!-- List of post -->
      <div class="row mt-4">
        <section class="col-md-9 col-sm-12 main-section">
          <% posts.docs.forEach(function(post){ %>
            <%- include('partials/post.html',{post})%>
          <% }); %>
          <!-- Pagination -->
          <nav class="mt-3" aria-label="Page navigation example">
            <ul class="pagination">
              <li class="page-item pagination-item">
                <% if(posts.prevPage){ %>
                  <a id="previous" class="page-link" href="/blog/<%= posts.prevPage %>">Previous</a>
                <% }else{%>
                  <a id="next" class="page-link">Previous</a>
                <% } %>    
              </li>
              <% for(let i = 1 ;i <= posts.totalPages; i++){ %>
                <li class="page-item pagination-item">
                  <a class="page-link" href="/blog/<%= i %>"><%= i %></a>
                </li>
              <% } %>
              <li class="page-item pagination-item">
                <% if(posts.nextPage){ %>
                  <a id="next" class="page-link" href="/blog/<%= +posts.nextPage %>">Next</a>
                <% }else{%>
                  <a id="next" class="page-link">Next</a>
                <% } %>
              </li>
            </ul>
          </nav>
        </section>
        <section class="col-md-3 sub-section">
          <div class="most-seen">
            <h6>The most seen</h6>
            <% posts.docs.forEach(function(post){ %>
              <%- include('partials/postMostSeen.html',{post})%>
            <% }); %>
          </div>
          <div class="categories">
            <h6>Categories</h6>
            <ul>
              <li><a>Dise√±o UX/UI</a></li>
              <li><a>Web Developer</a></li>
              <li><a>Technology</a></li>
              <li><a>Entertainment</a></li>
              <li><a>Web App</a></li>
            </ul>
          </div>
        </section>
      </div>
      
      <% if (auth) { %>
        <%- include ('partials/controlAdmin.html')%>
      <% } %>
    </main>
  </body>
  <%- include ('partials/footer.html')%>
</html>
